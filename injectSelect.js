!function(){if(""!=window.getSelection()){var e=function(e){for(;e.indexOf("<script")>-1;)e=e.substring(0,e.indexOf("<script"))+e.substring(e.indexOf("<\/script>")+9);for(;e.indexOf("<noscript")>-1;)e=e.substring(0,e.indexOf("<noscript"))+e.substring(e.indexOf("</noscript>")+11);for(;e.indexOf("<iframe")>-1;)e=e.substring(0,e.indexOf("<iframe"))+e.substring(e.indexOf("</iframe>")+9);var n=0;for(;e.indexOf('<div class="stream-item-footer"')>-1&&n<20;)e=e.substring(0,e.indexOf('<div class="stream-item-footer"'))+e.substring(e.indexOf('<div class="expanded-content',e.indexOf('<div class="stream-item-footer"'))),n++;return e}(function(e){rangeContainer=e.commonAncestorContainer;var n=document.createElement("div");return e.startOffset=0,n.innerHTML=function(e){var n="[^-a-z0-9:._]",t="(?:;|(?!\\d))",i={" ":"(?:\\s|&nbsp;?|&#0*32"+t+"|&#x0*20"+t+")","(":"(?:\\(|&#0*40"+t+"|&#x0*28"+t+")",")":"(?:\\)|&#0*41"+t+"|&#x0*29"+t+")",".":"(?:\\.|&#0*46"+t+"|&#x0*2e"+t+")"},r={},o=i[" "]+"*",s="(?:[^>\"']*(?:\"[^\"]*\"|'[^']*'))*?[^>]*";function l(e){var n=e.toLowerCase();if(i[e])return i[e];for(var o=e.toUpperCase(),s="",a=0;a<e.length;a++){var l=n.charAt(a);if(r[l])s+=r[l];else{var f=o.charAt(a),d=[l];d.push("&#0*"+l.charCodeAt(0)+t),d.push("&#x0*"+l.charCodeAt(0).toString(16)+t),l!=f&&(d.push("&#0*"+f.charCodeAt(0)+t),d.push("&#x0*"+f.charCodeAt(0).toString(16)+t)),d="(?:"+d.join("|")+")",s+=r[l]=d}}return i[e]=s}function f(e,n,t,i){return n+a(t)+i}var d=new RegExp(l("/"),"g"),c=new RegExp(l("."),"g");function u(e,n,t,i){return n+a(t=t.replace(d,"/").replace(c,"."))+i}function g(t,i,r,o,s){"string"==typeof t&&(t=new RegExp(t,"gi")),i=n+i,r="string"==typeof r?r:"\\s*=\\s*",o="string"==typeof o?o:"",s="string"==typeof s?"?)("+s:")(";var a=new RegExp("("+i+r+'")([^"'+o+"]+"+s+")","gi"),l=new RegExp("("+i+r+"')([^'"+o+"]+"+s+")","gi"),d=new RegExp("("+i+r+")([^\"'][^\\s>"+o+"]*"+s+")","gi");e=e.replace(t,(function(e){return e.replace(a,f).replace(l,f).replace(d,f)}))}function p(t,i,r,o,s,a){"string"==typeof t&&(t=new RegExp(t,"gi")),i=n+i,o="string"==typeof o?o:"gi";var l=new RegExp("("+i+'\\s*=\\s*")([^"]*)',"gi"),f=new RegExp("("+i+"\\s*=\\s*')([^']+)","gi"),d=new RegExp("("+r+')([^"]+)(")',o),c=new RegExp("("+r+")([^']+)(')",o);if("string"==typeof s){a="string"==typeof a?a:"";var g=new RegExp("("+r+")([^\"'][^"+s+"]*"+(a?"?)("+a+")":")()"),o),p=function(e,n,t){return n+t.replace(d,u).replace(c,u).replace(g,u)}}else p=function(e,n,t){return n+t.replace(d,u).replace(c,u)};e=e.replace(t,(function(e){return e.replace(l,p).replace(f,p)}))}return p("<meta"+s+n+'http-equiv\\s*=\\s*(?:"'+l("refresh")+'"'+s+">|'"+l("refresh")+"'"+s+">|"+l("refresh")+"(?:"+l(" ")+s+">|>))","content",l("url")+o+l("=")+o,"i"),g("<"+s+n+"href\\s*="+s+">","href"),g("<"+s+n+"src\\s*="+s+">","src"),g("<object"+s+n+"data\\s*="+s+">","data"),g("<applet"+s+n+"codebase\\s*="+s+">","codebase"),g("<param"+s+n+'name\\s*=\\s*(?:"'+l("movie")+'"'+s+">|'"+l("movie")+"'"+s+">|"+l("movie")+"(?:"+l(" ")+s+">|>))","value"),g(/<style[^>]*>(?:[^"']*(?:"[^"]*"|'[^']*'))*?[^'"]*(?:<\/style|$)/gi,"url","\\s*\\(\\s*","","\\s*\\)"),p("<"+s+n+"style\\s*="+s+">","style",l("url")+o+l("(")+o,0,o+l(")"),l(")")),e}((new XMLSerializer).serializeToString(e.cloneContents())),i(n,!0)}(window.getSelection().getRangeAt(0))),n=function(){var e,n=document.selection,t=0,i=0;if(n)"Control"!=n.type&&(t=(e=n.createRange()).boundingWidth,i=e.boundingHeight);else if(window.getSelection&&(n=window.getSelection()).rangeCount&&(e=n.getRangeAt(0).cloneRange()).getBoundingClientRect){var r=e.getBoundingClientRect();(t=r.right-r.left)>5e3&&(t=5e3),i=r.bottom-r.top}return{width:t,height:i}}(),t={postit:e,url:document.URL,width:n.width,height:n.height,topSelec:document.body.scrollTop,leftSelec:document.body.scrollLeft};chrome.runtime.sendMessage({creaNotaNuevaSelecWeb:t})}function i(e,n){imageBack="";var t=e.childNodes,a=e.outerHTML;if(null==a&&(a=""),t.length>0)for(var l=0;l<t.length;l++)if(1==t[l].nodeType){var f=t[l].outerHTML,d=i(t[l],n);a=a.replace(f,d)}if(n)if("IMG"==e.tagName||"SCRIPT"==e.tagName)var c="";else{var u=s(e,rangeContainer);if(null!=u)c=r(window.getComputedStyle(u,null));else if(null!=(u=o(e.innerHTML,document.body)))c=r(window.getComputedStyle(u,null));else c=""}else if("SCRIPT"==e.tagName||"EMBED"==e.tagName)c="";else c=r(window.getComputedStyle(e,null));var g=a.indexOf(">"),p=a.indexOf("style");return a=p<g&&p>0?a.substr(0,p+7)+c+a.substr(p+7):a.substr(0,g)+' style="'+c+'"'+a.substr(g)}function r(e){for(var n="",t=0;t<e.length;t++)if(-1==e[t].indexOf("animation")&&-1==e[t].indexOf("transition")&&-1==e[t].indexOf("page")&&-1==e[t].indexOf("interpolation")&&-1==e[t].indexOf("webkit")&&-1==e[t].indexOf("speak")&&-1==e[t].indexOf("dominant")&&-1==e[t].indexOf("glyph")&&-1==e[t].indexOf("stroke")&&-1==e[t].indexOf("fill-rule")&&-1==e[t].indexOf("kerning")&&-1==e[t].indexOf("shape")&&-1==e[t].indexOf("flex")&&-1==e[t].indexOf("orphans")&&"clip-rule"!=e[t]){var i=e.getPropertyValue(e[t]);"none"!=i&&"normal"!=i&&-1==i.indexOf("auto")&&"visible"!=i&&"content-box"!=i&&"baseline"!=i&&"start"!=i&&"lr-tb"!=i&&(("stop-opacity"==e[t]||"fill-opacity"==e[t]||"zoom"==e[t]||"flood-opacity"==e[t])&&"1"==i||"min-height"==e[t]&&"0px"==i||"min-width"==e[t]&&"0px"==i||"caption-side"==e[t]&&"top"==i||"background-position"==e[t]&&"0% 0%"==i||e[t].indexOf("border")>-1&&"0px"==i||(n+=e[t]+":"+i+";"))}return n}function o(e,n){var t;if(n.innerHTML.indexOf(e)>-1&&n.innerHTML.indexOf(e)+e.length==n.innerHTML.length||0==n.innerHTML.indexOf(e))t=n;else{if(!(n.innerHTML.indexOf(e)>-1&&n.hasChildNodes()))return null;for(var i=n.childNodes,r=0;r<i.length&&(1!=i[r].nodeType||null==(t=o(e,i[r])));r++);}return t}function s(e,n){var t;if(e.innerHTML==n.innerHTML)t=n;else{if(!n.hasChildNodes())return null;for(var i=n.childNodes,r=0;r<i.length&&(1!=i[r].nodeType||null==(t=s(e,i[r]))||t.innerHTML!=e.innerHTML);r++);}return t}function a(e){var n=document.createElement("a");return n.href=e,n.href}}();